'use strict'

module.exports = function format_date (d) {
  var date = new Date(d) // allows arg to be date string
  if (!d || is_bad_date(date)) return d
  date.setHours(12) // hack because of weirdness with times, sails and waterline
  return date.toISOString().split('T')[0].split('-').reverse().join('/') }

function is_bad_date (date) {
  return isNaN(date.getTime()) }

'use strict'

var standardise_date = require('./standardise_date.js')
var format_date = require('./format_date.js')
var R = require('ramda')

var transform_dated = R.curry(function (transform, dated_obj) {
  var cloned_obj = R.clone(dated_obj)
  Object.keys(dated_obj)
    .filter(function (key) { return key.match(/[dD]ate/) })
    .forEach(function (key) { cloned_obj[key] = transform(dated_obj[key]) })
  return cloned_obj })

transform_dated.standardise = transform_dated(standardise_date)
transform_dated.format = transform_dated(format_date)

module.exports = transform_dated

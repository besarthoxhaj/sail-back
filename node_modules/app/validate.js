const { curry, compose, not, prop, equals, reduce, assoc, keys } =
  require('ramda')

const exists = curry(compose(not, prop))
const selected = curry(compose(equals('-- select an option --'), prop))
const check_tests = curry((tests, values) =>
  reduce((errors, field) =>
    tests[field](field)(values)
      ? assoc(field, 'Required', errors)
      : errors
    , {}, keys(tests))
  )

module.exports = { exists, selected, check_tests }

'use strict'

var curry = require('curry')
var get = require('./get.js')
var map = require('./map.js')
var compose = require('dethunking-compose')
var prop_or = require('./prop_or.js')

module.exports = curry(url =>
  map(
      compose(
          () => JSON.parse
          , () => prop_or('[]', 'body'))
      , get(url)))

